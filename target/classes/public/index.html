<!DOCTYPE html>
<html ng-app="newLeaveApp" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <link rel="stylesheet" href="/css/newLeave.css">
    <script src="/js/angular.min.js"></script>

    <script type="text/javascript" src="/js/spin.min.js"></script>
    <script type="text/javascript" src="/js/angular-spinner.js"></script>
  <script type="text/javascript" src="/js/angular-loading-spinner.js"></script>

    <script src="/js/index.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>breakOut</title>
</head>

<body ng-controller="LeaveRequestController">
<span us-spinner="{radius:30, width:8, length: 16}"></span>
<div class="login" ng-hide="loggedIn">

    <div id="login-bg">
        <!-- <div class="col-md-offset-5 col-md-4"> -->
            <div class="form-login">
                <img src="img/images.png">
                <h4>Login.</h4>


                <input type="text" id="userName"class="form-control input-sm chat-input" placeholder="email address" ng-model="email"/>
                </br>

                </br>

                <input type="password" id="userPassword" class="form-control input-sm chat-input" placeholder="password" ng-model="password"/>
                </br>
                <div class="wrapper">
            <span class="group-btn">
                <a href="" class="btn btn-primary btn-md" ng-click="loginEmployee()">Login <i class="fa fa-sign-in"></i></a>
            </span>
                </div>
            <!-- </div> -->
    </div>
</div>
</div>

<header ng-show="loggedIn">
    <div class="navigation" id="nav">
        <img src="/img/images.png" />
            <a href="" ng-click="showRequestLeave()">My leave</a>
            <a href="" ng-click="showApproveLeave()" ng-show="isTeamLead">Project administration</a>
    </div>
    <div class="color-bar"></div>
</header>


<div class="container" ng-show="requestingLeave">
<span us-spinner="{radius:30, width:8, length: 16}"></span>
<!--     <header>
        <img src="/img/images.png">
        <nav>
        <a href="" ng-click="">My leave</a>
        </nav>
    </header> -->

    <div class="row">
        <div id="title" class="col-md-6">
            <h1 id="heading">Book leave</h1>
        </div>
        
    </div>

    <div id="leaveTable">
        <form id="newLeaveForm" ng-submit="addLeave()">
        <table id="newLeaveTable" class="table table-condensed table-hover table-bordered">
            <thead>
            <tr>
                <th>Start date</th>
                <th>End date</th>
                <th>Description</th>
                <th>Type</th>
                <th></th>
            </thead>
            <tbody>
            <tr>
                <td> <input type="date" ng-model="newLeave.startDate"/>
                <td> <input type="date" ng-model="newLeave.endDate"/>
                <td> <input type="text" ng-model="newLeave.description"/>
                <td>
                    <select id="chooseType" ng-model="newLeave.leaveType">
                        <option value="none">Select a type</option>
                        <option value="SCHEDULED_LEAVE">Scheduled leave</option>
                        <option value="PUBLIC_HOLIDAY">Public holiday</option>
                        <option value="TRAINING">Training</option>
                        <option value="ADDITIONAL_HOLIDAY">Additional Holiday</option>
                        <option value="BEREAVEMENT">Bereavement</option>
                    </select>
                </td>
                <td><input type="submit" value="Submit"/></td>
            </tr>
            </tbody>
        </table>
        </form>
    </div>

<!--     <br>
    <button id="submitButton">Submit</button>
    <br> -->

    <h1 id="heading">My bookings</h1>

    <div id="myBookings">
        <table id="myBookingsTable" class="table table-condensed table-hover table-bordered">
            <thead>
            <tr>
                <th>Start date</th>
                <th>End date</th>
                <th>Description</th>
                <th>Type</th>
                <th>Status</th>
            </thead>
            <tbody>
            <tr ng-hide="hasLeaveRequests()">
                <td>You have no requests currently<td>
                <td>
                <td>
                <td>
                <td>
            </tr>
            <tr ng-repeat="leaveRequest in leaveRequests">
                <td>{{ leaveRequest.startDate }}</td>
                <td>{{ leaveRequest.endDate }}</td>
                <td>{{ leaveRequest.description }}</td>
                <td>{{ leaveRequest.leaveType }}</td>
                <td>{{ leaveRequest.status }}</td>
                <td>{{ leaveRequest.comment }}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <br>
    <!-- <button id="cancelEdit">Cancel/Edit booking</button> -->
</div>

<div class="requested-leave" ng-show="approvingLeave">
    <div class="container">
        <h2>Requested Leave</h2>
        <p> </p>
        <table class="table table-hover " id="holiday-table">
            <thead>
            <tr>
                <th>Employee Name</th>
                <th>Project Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Description</th>
                <th>Leave Type</th>
                <th>Status</th>
                <th>Approve/Reject</th>
            </tr>
            </thead>
            <tbody>
                <tr ng-repeat="leaveRequest in leaveRequestsForApproval">
                <td>{{ leaveRequest.employeeName }}</td>
                <td>{{ leaveRequest.projectName }}</td>
                <td>{{ leaveRequest.startDate }}</td>
                <td>{{ leaveRequest.endDate }}</td>
                <td>{{ leaveRequest.description }}</td>
                <td>{{ leaveRequest.leaveType }}</td>
                <td>{{ leaveRequest.status }}</td>
                <td><button class="approve" ng-click="approveRequest(leaveRequest.id)">Approve</button><button class="reject" ng-click="rejectRequest(leaveRequest.id)">Reject</button></td>
            </tr>
            </tbody>
        </table>
    </div>



    <div class="container">
        <h2>My projects</h2>
        <p> </p>
        <table class="table table-hover ">
            <thead>
            <tr col>
                <th>Project Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
                <tr ng-repeat="project in currentProjects">
                <td>{{ project.name }}</td>
                <td>{{ project.startDate }}</td>
                <td>{{ project.endDate }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class ="create-project">
        <div class ="container">
            <div class ="row">
                <div class ="col-lg-6">
                    <h3>Create Project</h3>
                    <form ng-submit="createProject()">
                    <label>Project Name</label>
                    <input type ="text" id="new-project-name" class="form-control input-sm chat-input" maxlength="30" ng-model="newProject.name"/>
                    <br>

                    <label>Start Date</label>
                    <br>
                    <input type ="date" ng-model="newProject.startDate"/>
                    <br>
                    <br>
                    <label>End Date</label>
                    <br>
                    <input type ="date" ng-model="newProject.endDate"/>
                    <br>
                    <br>
                    <br>
                    <br>
                    <input type="submit" value="Create" />
                    </form>
  <!-- <span class="group-btn">
                <a href="#" class="btn btn-primary btn-md">Create Project<i class="fa fa-sign-in"></i></a>
            </span> -->
                </div>
            </div>
        </div>
    </div>
</div>
</div>




</body>
</html>


